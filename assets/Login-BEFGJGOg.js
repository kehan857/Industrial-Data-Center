import{d as L,r as U,f as m,_ as I,$ as r,k as o,a0 as a,Y as t,Z as N,a1 as R,l as d,u as p,G as c}from"./vendor-DYmnM11n.js";import{U as z,L as B,a as f}from"./antd-Bkgtc1Na.js";import{_ as C}from"./_plugin-vue_export-helper-DlAUqK2U.js";const O={class:"login-container"},S={class:"login-card"},V=L({__name:"Login",setup(q){const _=R(),s=U({username:"",password:"",remember:!1}),g={username:[{required:!0,message:"请输入工号",trigger:"blur"},{min:2,max:20,message:"工号长度在 2 到 20 个字符",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"},{min:6,message:"密码长度至少 6 个字符",trigger:"blur"}]},u=m(!1),b=m(),v=async()=>{try{u.value=!0,await new Promise(e=>setTimeout(e,1e3));const l=s.username==="admin"?"admin":"user";localStorage.setItem("token","mock-jwt-token"),localStorage.setItem("userInfo",JSON.stringify({username:s.username,role:l,permissions:l==="admin"?["admin","user"]:["user"]})),f.success("登录成功"),_.push("/dashboard")}catch{f.error("登录失败，请检查用户名和密码")}finally{u.value=!1}};return(l,e)=>{const k=t("a-input"),i=t("a-form-item"),x=t("a-input-password"),w=t("a-checkbox"),y=t("a-button"),h=t("a-form");return N(),I("div",O,[r("div",S,[e[5]||(e[5]=r("div",{class:"login-header"},[r("h1",{class:"login-title"},"天云聚合产业数据中心"),r("p",{class:"login-subtitle"},"内部数据门户 - 请登录您的企业账户")],-1)),o(h,{ref_key:"formRef",ref:b,model:s,rules:g,onFinish:v,class:"login-form"},{default:a(()=>[o(i,{name:"username"},{default:a(()=>[o(k,{value:s.username,"onUpdate:value":e[0]||(e[0]=n=>s.username=n),placeholder:"请输入工号",size:"large",prefix:d(p(z))},null,8,["value","prefix"])]),_:1}),o(i,{name:"password"},{default:a(()=>[o(x,{value:s.password,"onUpdate:value":e[1]||(e[1]=n=>s.password=n),placeholder:"请输入密码",size:"large",prefix:d(p(B))},null,8,["value","prefix"])]),_:1}),o(i,null,{default:a(()=>[o(w,{checked:s.remember,"onUpdate:checked":e[2]||(e[2]=n=>s.remember=n)},{default:a(()=>e[3]||(e[3]=[c(" 记住我 ")])),_:1,__:[3]},8,["checked"])]),_:1}),o(i,null,{default:a(()=>[o(y,{type:"primary","html-type":"submit",size:"large",block:"",loading:u.value,class:"login-button"},{default:a(()=>e[4]||(e[4]=[c(" 登录 ")])),_:1,__:[4]},8,["loading"])]),_:1})]),_:1},8,["model"]),e[6]||(e[6]=r("div",{class:"login-footer"},[r("p",null,"© 2024 天云聚合产业数据中心 - 内部使用系统")],-1))])])}}}),E=C(V,[["__scopeId","data-v-e1b2f29e"]]);export{E as default};
