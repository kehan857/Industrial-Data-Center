import{d as X,f as n,c as C,_ as i,$ as s,a6 as o,F as g,a3 as f,k as d,a0 as c,Y as v,Z as l,a8 as S,G as b,u as z,a4 as Y,X as A,a9 as Q,a1 as W}from"./vendor-DYmnM11n.js";import{p as ss,o as ts}from"./antd-Bkgtc1Na.js";import{_ as es}from"./_plugin-vue_export-helper-DlAUqK2U.js";const as={class:"supply-demand-map"},os={class:"left-panel"},ns={class:"kpi-stats"},ls={class:"stat-card glass-card glow-element"},is={class:"stat-content"},ds={class:"stat-value"},cs={class:"stat-card glass-card glow-element"},us={class:"stat-content"},rs={class:"stat-value"},ms={class:"stat-card glass-card glow-element"},vs={class:"stat-content"},_s={class:"stat-value"},ps={class:"stat-card glass-card glow-element"},hs={class:"stat-content"},gs={class:"stat-value"},fs={class:"filter-section"},bs={class:"category-filters"},ys=["onClick"],Cs={class:"category-icon"},Ss={class:"category-info"},ks={class:"category-name"},ws={class:"category-count"},Ds={class:"map-section"},Rs={class:"map-header"},xs={class:"map-controls"},zs={class:"map-placeholder"},Bs={class:"placeholder-content"},Ns={class:"demand-heatmap"},Ls=["onClick"],Ms={class:"region-name"},$s={class:"region-demands"},Hs={class:"right-panel"},Us={class:"demand-list"},Vs={class:"list-header"},Js={class:"demand-filters"},js={class:"demand-items"},qs=["onClick"],Fs={class:"demand-header"},Gs={class:"demand-title"},Is={class:"demand-meta"},Os={class:"meta-item"},Ps={class:"meta-value"},Ts={class:"meta-item"},Zs={class:"meta-value budget"},Es={class:"meta-item"},Ks={class:"meta-value"},Xs={class:"demand-tags"},Ys={key:0,class:"match-info"},As={class:"match-score"},Qs={class:"score-bar"},Ws={class:"score-text"},st={class:"match-reason"},tt={class:"list-footer"},et=X({__name:"SupplyDemandMap",setup(at){const B=W(),h=n("all"),u=n(""),k=n("all"),r=n(""),_=n(1),N=n(10),L=n(),M=n(1257),$=n(68),H=n(234),U=n(89),V=n([{id:"all",name:"全部需求",icon:"📋",count:1257},{id:"equipment",name:"设备采购",icon:"⚙️",count:456},{id:"service",name:"服务招标",icon:"🛠️",count:234},{id:"project",name:"工程项目",icon:"🏗️",count:189},{id:"maintenance",name:"维修保养",icon:"🔧",count:156},{id:"consulting",name:"咨询服务",icon:"💡",count:122},{id:"technology",name:"技术开发",icon:"🔬",count:100}]),w=n([{code:"BJ",name:"北京",demands:156},{code:"SH",name:"上海",demands:134},{code:"GD",name:"广东",demands:189},{code:"JS",name:"江苏",demands:145},{code:"ZJ",name:"浙江",demands:123},{code:"SD",name:"山东",demands:167},{code:"HB",name:"河北",demands:89},{code:"HN",name:"河南",demands:78},{code:"SC",name:"四川",demands:67},{code:"HUB",name:"湖北",demands:56}]),J=n([{id:"1",title:"化工设备维护保养服务招标",publisher:"中石化胜利油田",budget:"500万元",deadline:"2024-07-15",status:"active",tags:["化工设备","维护保养","胜利油田"],location:"山东",matchScore:95,matchReason:"公司具有丰富的化工设备维护经验"},{id:"2",title:"石油化工智能监控系统采购",publisher:"万华化学集团",budget:"1200万元",deadline:"2024-07-20",status:"active",tags:["智能监控","化工系统","万华化学"],location:"山东",matchScore:87,matchReason:"产品符合化工行业智能化需求"},{id:"3",title:"炼油厂环保设备升级改造",publisher:"中海油天津炼化",budget:"800万元",deadline:"2024-08-01",status:"pending",tags:["环保设备","炼油厂","升级改造"],location:"天津",matchScore:78,matchReason:"环保技术与项目需求匹配度较高"},{id:"4",title:"化工园区安全监测平台建设",publisher:"上海化工区管委会",budget:"2000万元",deadline:"2024-08-10",status:"active",tags:["安全监测","化工园区","平台建设"],location:"上海"},{id:"5",title:"石化企业数字化转型咨询服务",publisher:"浙江石化有限公司",budget:"300万元",deadline:"2024-07-25",status:"closed",tags:["数字化转型","咨询服务","浙江石化"],location:"浙江"}]),D=C(()=>{if(!u.value)return null;const a=w.value.find(t=>t.code===u.value);return a==null?void 0:a.name}),R=C(()=>{let a=J.value;return u.value&&(a=a.filter(t=>t.location.includes(D.value||""))),h.value!=="all"&&(a=a.filter(t=>({equipment:["设备","采购"],service:["服务","招标"],project:["项目","建设"],maintenance:["维护","保养"],consulting:["咨询","服务"],technology:["技术","开发"]}[h.value]||[]).some(y=>t.title.includes(y)))),r.value&&(a=a.filter(t=>t.title.includes(r.value)||t.publisher.includes(r.value)||t.tags.some(m=>m.includes(r.value)))),a}),j=C(()=>R.value.length),q=a=>{h.value=a,_.value=1},F=a=>{u.value=u.value===a.code?"":a.code},G=()=>{console.log("刷新需求列表")},I=()=>{_.value=1},O=a=>{_.value=a},P=a=>{B.push(`/resources/demands/${a}`)},T=a=>({active:"进行中",closed:"已结束",pending:"待开始"})[a]||a;return(a,t)=>{const m=v("a-select-option"),x=v("a-select"),y=v("a-button"),Z=v("a-input"),E=v("a-tag"),K=v("a-pagination");return l(),i("div",as,[s("div",os,[s("div",ns,[t[11]||(t[11]=s("h2",{class:"panel-title"},"供需概览",-1)),s("div",ls,[t[4]||(t[4]=s("div",{class:"stat-icon"},"📊",-1)),s("div",is,[s("div",ds,o(M.value.toLocaleString()),1),t[3]||(t[3]=s("div",{class:"stat-label"},"总需求量",-1))])]),s("div",cs,[t[6]||(t[6]=s("div",{class:"stat-icon"},"🆕",-1)),s("div",us,[s("div",rs,o($.value.toLocaleString()),1),t[5]||(t[5]=s("div",{class:"stat-label"},"今日新增",-1))])]),s("div",ms,[t[8]||(t[8]=s("div",{class:"stat-icon"},"🔥",-1)),s("div",vs,[s("div",_s,o(H.value.toLocaleString()),1),t[7]||(t[7]=s("div",{class:"stat-label"},"热门需求",-1))])]),s("div",ps,[t[10]||(t[10]=s("div",{class:"stat-icon"},"✅",-1)),s("div",hs,[s("div",gs,o(U.value.toLocaleString()),1),t[9]||(t[9]=s("div",{class:"stat-label"},"已匹配",-1))])])]),s("div",fs,[t[12]||(t[12]=s("h3",{class:"filter-title"},"需求分类",-1)),s("div",bs,[(l(!0),i(g,null,f(V.value,e=>(l(),i("div",{key:e.id,class:S(["category-item",{active:h.value===e.id}]),onClick:p=>q(e.id)},[s("div",Cs,o(e.icon),1),s("div",Ss,[s("div",ks,o(e.name),1),s("div",ws,o(e.count)+"个",1)])],10,ys))),128))])])]),s("div",Ds,[s("div",Rs,[t[16]||(t[16]=s("h1",{class:"map-title"},"全国供需分布地图",-1)),s("div",xs,[d(x,{value:k.value,"onUpdate:value":t[0]||(t[0]=e=>k.value=e),style:{width:"120px"}},{default:c(()=>[d(m,{value:"all"},{default:c(()=>t[13]||(t[13]=[b("全部时间")])),_:1,__:[13]}),d(m,{value:"week"},{default:c(()=>t[14]||(t[14]=[b("最近一周")])),_:1,__:[14]}),d(m,{value:"month"},{default:c(()=>t[15]||(t[15]=[b("最近一月")])),_:1,__:[15]})]),_:1},8,["value"])])]),s("div",{ref_key:"mapContainer",ref:L,class:"demand-map"},[s("div",zs,[s("div",Bs,[t[17]||(t[17]=s("div",{class:"map-icon"},"🌍",-1)),t[18]||(t[18]=s("h3",null,"供需分布热力图",-1)),t[19]||(t[19]=s("p",null,"点击省份查看具体需求信息",-1)),s("div",Ns,[(l(!0),i(g,null,f(w.value,e=>(l(),i("div",{key:e.code,class:S(["region-item",{"high-demand":e.demands>100,"medium-demand":e.demands>50,selected:u.value===e.code}]),onClick:p=>F(e)},[s("div",Ms,o(e.name),1),s("div",$s,o(e.demands)+"个需求",1)],10,Ls))),128))])])])],512)]),s("div",Hs,[s("div",Us,[s("div",Vs,[s("h3",null,o(D.value||"全国")+"需求列表",1),d(y,{type:"text",size:"small",onClick:G},{icon:c(()=>[d(z(ss))]),_:1})]),s("div",Js,[d(Z,{value:r.value,"onUpdate:value":t[1]||(t[1]=e=>r.value=e),placeholder:"搜索需求关键词",size:"small",onInput:I},{prefix:c(()=>[d(z(ts))]),_:1},8,["value"])]),s("div",js,[(l(!0),i(g,null,f(R.value,e=>(l(),i("div",{key:e.id,class:"demand-item glass-card",onClick:p=>P(e.id)},[s("div",Fs,[s("div",Gs,o(e.title),1),s("div",{class:S(["demand-status",e.status])},o(T(e.status)),3)]),s("div",Is,[s("div",Os,[t[20]||(t[20]=s("span",{class:"meta-label"},"发布单位：",-1)),s("span",Ps,o(e.publisher),1)]),s("div",Ts,[t[21]||(t[21]=s("span",{class:"meta-label"},"预算金额：",-1)),s("span",Zs,o(e.budget),1)]),s("div",Es,[t[22]||(t[22]=s("span",{class:"meta-label"},"截止时间：",-1)),s("span",Ks,o(e.deadline),1)])]),s("div",Xs,[(l(!0),i(g,null,f(e.tags,p=>(l(),A(E,{key:p,size:"small"},{default:c(()=>[b(o(p),1)]),_:2},1024))),128))]),e.matchScore?(l(),i("div",Ys,[s("div",As,[t[23]||(t[23]=s("span",{class:"score-label"},"匹配度：",-1)),s("div",Qs,[s("div",{class:"score-fill",style:Q({width:e.matchScore+"%"})},null,4)]),s("span",Ws,o(e.matchScore)+"%",1)]),s("div",st,o(e.matchReason),1)])):Y("",!0)],8,qs))),128))]),s("div",tt,[d(K,{current:_.value,"onUpdate:current":t[2]||(t[2]=e=>_.value=e),total:j.value,"page-size":N.value,size:"small","show-size-changer":"",onChange:O},null,8,["current","total","page-size"])])])])])}}}),it=es(et,[["__scopeId","data-v-cd96cad2"]]);export{it as default};
